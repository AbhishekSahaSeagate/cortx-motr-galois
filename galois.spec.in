Name:    galois
Version: @VERSION@
Release: 1
Summary: Fast Galois Field Arithmetic Library in C/C++
Group: System Environment/Base
License: GPL
Source: %{name}-%{version}.tar.gz
BuildRoot: %{_tmppath}/%{name}-%{version}

%description
Fast Galois Field Arithmetic Library in C/C++. Used for colibri
sns checksums calculation.

%package devel
Summary:	%{name} development package
Group:		Development/Libraries
Requires:	%{name} = %{version}

%description devel
Development files for %{name}.

%prep
%setup  -q -n %{name}-%{version}

%build
%configure --program-prefix=%{?_program_prefix:%{_program_prefix}}
make 

%install
rm -rf $RPM_BUILD_ROOT
export INSTALL_MOD_PATH=$RPM_BUILD_ROOT
DESTDIR="$RPM_BUILD_ROOT" make install

%files
%defattr(-,root,root)
%doc AUTHORS README NEWS ChangeLog COPYING INSTALL
%{_libdir}/libgalois*.so*
/lib/modules/*

%post
/sbin/depmod -a

%files devel
%defattr(-,root,root,-)
%doc AUTHORS README NEWS ChangeLog COPYING INSTALL doc
%{_includedir}/*
%{_libdir}/libgalois*.a
%{_libdir}/libgalois*.la
%{_datadir}/*
