obj-m += galois.o

EXTRA_CFLAGS = -I@SRCDIR@/include

all:
	$(RM) ./galois.[ch]
	ln -s ../galois.c ./galois.c
	make -C @LINUX_OBJ@ M=$(PWD) modules
    
install modules_install:
	$(MAKE) INSTALL_MOD_DIR=kernel/fs/galois -C @LINUX_OBJ@ M=`pwd` modules_install

uninstall:
	su -c "$(RM) -r @LINUX_MOD@/kernel/fs/galois && /sbin/depmod -a"

clean distclean:
	$(MAKE) -C @LINUX_OBJ@ M=`pwd` clean
	$(RM) Module.markers modules.order
	$(RM) ./galois.[ch]

distdir:
